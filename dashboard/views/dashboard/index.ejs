<%- include('../partials/header') %>
<%- include('../partials/navbar') %>

<div class="flex">
  <%- include('../partials/sidebar') %>
  
  <main class="flex-1 p-8">
    <div class="max-w-7xl mx-auto">
      <!-- Page Header -->
      <div class="mb-8">
        <h1 class="text-3xl font-bold text-gray-800">Dashboard Overview</h1>
        <p class="text-gray-600 mt-2">Selamat datang di dashboard Anna Manager Bot</p>
      </div>

      <!-- Stats Cards -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
        <!-- Total Users -->
        <div class="card-hover bg-white rounded-xl shadow-lg p-6 border border-gray-200">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-gray-500 text-sm font-medium">Total Users</p>
              <p class="text-3xl font-bold text-gray-800 mt-2"><%= stats.totalUsers %></p>
            </div>
            <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center">
              <i class="fas fa-users text-purple-600 text-2xl"></i>
            </div>
          </div>
        </div>

        <!-- Total Levels -->
        <div class="card-hover bg-white rounded-xl shadow-lg p-6 border border-gray-200">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-gray-500 text-sm font-medium">Total Levels</p>
              <p class="text-3xl font-bold text-gray-800 mt-2"><%= stats.totalLevels %></p>
            </div>
            <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center">
              <i class="fas fa-chart-line text-blue-600 text-2xl"></i>
            </div>
          </div>
        </div>

        <!-- Active Giveaways -->
        <div class="card-hover bg-white rounded-xl shadow-lg p-6 border border-gray-200">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-gray-500 text-sm font-medium">Active Giveaways</p>
              <p class="text-3xl font-bold text-gray-800 mt-2"><%= stats.activeGiveaways %></p>
            </div>
            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center">
              <i class="fas fa-gift text-green-600 text-2xl"></i>
            </div>
          </div>
        </div>
      </div>

      <!-- Top Users and Levels -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- Top Users by Souls -->
        <div class="bg-white rounded-xl shadow-lg p-6 border border-gray-200">
          <h2 class="text-xl font-bold text-gray-800 mb-4">
            <i class="fas fa-trophy text-yellow-500 mr-2"></i>Top Users by Souls
          </h2>
          <div class="space-y-3">
            <% topUsers.forEach((user, index) => { %>
              <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                <div class="flex items-center">
                  <span class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center text-purple-600 font-bold mr-3">
                    <%= index + 1 %>
                  </span>
                  <span class="font-medium text-gray-800"><%= user.userId %></span>
                </div>
                <span class="text-purple-600 font-bold">
                  <i class="fas fa-coins mr-1"></i><%= user.cash.toLocaleString() %>
                </span>
              </div>
            <% }) %>
          </div>
        </div>

        <!-- Top Users by Level -->
        <div class="bg-white rounded-xl shadow-lg p-6 border border-gray-200">
          <h2 class="text-xl font-bold text-gray-800 mb-4">
            <i class="fas fa-star text-blue-500 mr-2"></i>Top Users by Level
          </h2>
          <div class="space-y-3">
            <% topLevels.forEach((level, index) => { %>
              <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                <div class="flex items-center">
                  <span class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold mr-3">
                    <%= index + 1 %>
                  </span>
                  <span class="font-medium text-gray-800"><%= level.userId %></span>
                </div>
                <span class="text-blue-600 font-bold">
                  Level <%= level.level %>
                </span>
              </div>
            <% }) %>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>

<%- include('../partials/footer') %>
